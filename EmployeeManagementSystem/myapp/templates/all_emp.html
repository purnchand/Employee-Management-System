<!doctype html>
<html lang="ar">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" 
    integrity="sha384-dpuaG1suU0eT09tx5plTaGMLBsfDLzUCCUXOY2j/LSvXYuG6Bqs43ALlhIqAJVRb" crossorigin="anonymous">

    <title>All Employees!</title>
    <style>
      h2{
        color:green;
        margin:20px;
      }
      hr {
        height: 2px; 
        background-color: black; 
        border: none; 
      }
    </style>
  </head>
  <body>
    <div class="container mt-4">
        <h2 class="text-center">All Employees</h2>
        <hr><br>

        <!-- Employee Table -->
        <table class="table table-dark table-striped">
          <thead>
              <tr>
                  <th scope="col">S.No.</th>
                  <th scope="col">Full_Name</th>
                  <th scope="col">Email_Id</th>
                  <th scope="col">Job_Role</th>                             
                  <th scope="col">Phone_No.</th>
                  <th scope="col">Salary</th>
                  <th scope="col">Location</th>
                  <th scope="col">Resume</th>
                  <th scope="col">Edit</th>
              </tr>
          </thead>
          <tbody>
            {% if emps %}
                {% for emp in emps %}
                    <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td>{{ emp.full_name }}</td>
                        <td>{{ emp.email }}</td>
                        <td>{{ emp.job_role }}</td>                                        
                        <td>{{ emp.phone }}</td>
                        <td>{{ emp.salary }}</td>
                        <td>{{ emp.location }}</td>
                        <td class="text-center">
                          {% if emp.resume %}
                              <a href="{{ emp.resume.url }}" target="_blank" class="btn btn-sm btn-success">Download</a>
                          {% else %}
                              <span class="text-muted">No</span>
                          {% endif %}
                        </td>                      
                        <td>
                          <a href="{% url 'edit_emp' emp.id %}" class="btn btn-sm btn-primary">Edit</a>
                        </td>                        
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="9">No employees found</td>
                </tr>
            {% endif %}
          </tbody>                         
        </table>   
        
        <div class="text-center mt-4">
          <a href="{% url 'add_emp' %}" class="btn btn-outline-primary btn-lg px-3">Add More</a>
          <a href="{% url 'index' %}" class="btn btn-outline-primary btn-lg px-4">Home</a>
        </div>

    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
      setTimeout(function () {
        let alerts = document.querySelectorAll('.alert');
        alerts.forEach(function (alert) {
          let bsAlert = new bootstrap.Alert(alert);
          bsAlert.close();
        });
      }, 3000);
    </script>
  </body>
</html>
